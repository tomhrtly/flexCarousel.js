{"version":3,"file":"flexCarousel.js","sources":["../src/flexCarousel.js"],"sourcesContent":["/*\n * flexCarousel.js v0.3.0\n * https://github.com/tomhrtly/flexCarousel.js\n *\n * Copyright 2018 Tom Hartley\n * Released under the MIT license\n *\n * Icons provided by Font Awesome: https://fontawesome.com\n */\n\nclass FlexCarousel {\n    constructor (selector, options) {\n        this.selector = document.querySelector(selector);\n\n        this.defaults = {\n            arrows: true,\n            arrowsOverlay: true,\n            autoplay: false,\n            autoplaySpeed: 5000,\n            circles: true,\n            circlesOverlay: true,\n            height: null,\n            nextArrow: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"angle-right\" class=\"svg-inline--fa fa-angle-right fa-w-8\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z\"></path></svg>',\n            prevArrow: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"angle-left\" class=\"svg-inline--fa fa-angle-left fa-w-8\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z\"></path></svg>',\n            slidesScrolling: 1,\n            slidesVisible: 1,\n            transition: 'slide',\n            transitionSpeed: 250\n        };\n\n        this.slideWidth = null;\n        this.slideOffset = null;\n        this.slideAmount = null;\n        this.currentSlide = 0;\n        this.options = extend(this.defaults, options);\n        this.init();\n\n        function extend (defaults, options) {\n            let extended = {};\n\n            for (let prop in defaults) {\n                if (Object.prototype.hasOwnProperty.call(defaults, prop)) {\n                    extended[prop] = defaults[prop];\n                }\n            }\n\n            for (let prop in options) {\n                if (Object.prototype.hasOwnProperty.call(options, prop)) {\n                    extended[prop] = options[prop];\n                }\n            }\n\n            return extended;\n        }\n    }\n\n    addTransition() {\n        const slides = this.selector.querySelector('.fc-slides');\n\n        if (this.options.transition === 'slide') {\n            slides.style.transition = 'all ' + this.options.transitionSpeed + 'ms ease-in-out 0s';\n        }\n    }\n\n    animateSlide(target) {\n        this.addTransition();\n        this.setTransform(Math.ceil(target));\n\n        new Promise((resolve) => {\n            setTimeout(() => {\n                this.removeTransition();\n                resolve(true);\n            }, this.options.transitionSpeed);\n        }).then(() => this.setTransform(this.getLeftSlide(this.currentSlide)));\n}\n\n    buildArrowEvents() {\n        const nextArrow = this.selector.querySelector('.fc-next');\n        const prevArrow = this.selector.querySelector('.fc-prev');\n\n        if (this.options.arrows) {\n\n            // Move to the next slide when clicking the next arrow\n            nextArrow.addEventListener('click', () => {\n                this.moveSlide('next');\n            });\n\n            // Move to the previous slide when clicking the previous arrow\n            prevArrow.addEventListener('click', () => {\n                this.moveSlide('previous');\n            });\n        }\n    }\n\n    buildArrows() {\n        const slides = this.selector.querySelector('.fc-slides');\n        const slide = slides.querySelectorAll('.fc-slide');\n\n        if (this.options.arrows) {\n\n            // Only show the arrows if there are more slides then slidesVisible option\n            if (this.options.slidesVisible < slide.length) {\n                this.selector.classList.add('fc-arrows');\n\n                // Create arrow button\n                let nextArrow = document.createElement('button');\n                nextArrow.classList.add('fc-next', 'fc-is-active');\n                nextArrow.innerHTML = '<span class=\"fc-icon\">' + this.options.nextArrow + '</span>';\n\n                // Create prev button\n                let prevArrow = document.createElement('button');\n                prevArrow.classList.add('fc-prev', 'fc-is-active');\n                prevArrow.innerHTML = '<span class=\"fc-icon\">' + this.options.prevArrow + '</span>';\n\n                // Append next arrow to the selector\n                this.selector.appendChild(nextArrow);\n\n                // Prepend prev arrow to the selector\n                this.selector.insertBefore(prevArrow, this.selector.firstChild);\n\n                // Add the overlay class if needed\n                if (this.options.arrowsOverlay) {\n                    this.selector.classList.add('fc-arrows-overlay');\n                }\n\n                this.buildArrowEvents();\n            }\n        }\n    }\n\n    buildCircles() {\n        const slides = this.selector.querySelector('.fc-slides');\n        const allSlides = slides.querySelectorAll('.fc-slide');\n        const container = this.selector.querySelector('.fc-container');\n        const circles = this.selector.querySelector('.fc-circles');\n\n        if (this.options.circles) {\n\n            // Only show the arrows if there are more slides then slidesVisible option\n            if (this.options.slidesVisible < allSlides.length) {\n                this.selector.classList.add('fc-circles');\n\n                // Create circles container\n                let circles = document.createElement('div');\n                circles.classList.add('fc-circles');\n\n                // Append circles to the container\n                container.appendChild(circles);\n\n                for (let i = 0; i < allSlides.length; i++) {\n                    let circle = document.createElement('div');\n                    circle.classList.add('fc-circle');\n\n                    let icon = document.createElement('span');\n                    icon.classList.add('fc-icon', 'fc-is-circle');\n\n                    circle.appendChild(icon);\n                    circles.appendChild(circle);\n                }\n\n                if (this.options.circlesOverlay) {\n                    this.selector.classList.add('fc-circles-overlay');\n                }\n            }\n        }\n    }\n\n    buildOptions() {\n        if (this.options.height) {\n            this.selector.style.height = this.options.height;\n        }\n    }\n\n    buildSlides() {\n        const children = this.selector.children;\n\n        // Add the slide class to all child div elements\n        for (let i = 0; i < children.length; i++) {\n            children[i].classList.add('fc-slide');\n        }\n\n        // Wrap slides to reduce HTML markup\n        this.selector.innerHTML = '<div class=\"fc-container\"><div class=\"fc-slides\">' + this.selector.innerHTML + '</div></div>';\n\n        const slides = this.selector.querySelector('.fc-slides');\n        const allSlides = slides.querySelectorAll('.fc-slide');\n\n        this.slideAmount = allSlides.length;\n\n        if (this.options.slidesVisible < this.slideAmount) {\n            this.slideWidth = 100 / this.options.slidesVisible;\n\n            // Add the min-width CSS property to all slides\n            for (let i = 0; i < this.slideAmount; i++) {\n                allSlides[i].style.minWidth = this.slideWidth + '%';\n            }\n\n            // Clone and prepend/append slides\n            const array = Array.from(allSlides);\n            const prepend = array.slice(this.slideAmount - this.options.slidesVisible, this.slideAmount).reverse();\n            const append = array.slice(0, this.options.slidesVisible);\n\n            for (let i = 0; i < prepend.length; i++) {\n                let clone = prepend[i].cloneNode(true);\n                clone.classList.add('fc-is-clone');\n                slides.insertBefore(clone, slides.firstChild);\n            }\n\n            for (let i = 0; i < append.length; i++) {\n                let clone = append[i].cloneNode(true);\n                clone.classList.add('fc-is-clone');\n                slides.appendChild(clone);\n            }\n\n            this.setTransform(this.getLeftSlide(this.currentSlide));\n        }\n    }\n\n    getLeftSlide(index) {\n        if (this.options.slidesVisible < this.slideAmount) {\n            this.slideOffset = (this.slideWidth * this.options.slidesVisible) * -1;\n        }\n\n        return ((index * this.slideWidth) * -1) + this.slideOffset;\n    }\n\n    init() {\n        // Check if the selector has the \"fc\" initializer class\n        if (!this.selector.classList.contains('fc')) {\n            this.selector.classList.add('fc');\n            this.buildSlides();\n            this.buildArrows();\n            this.buildCircles();\n            this.buildOptions();\n        }\n    }\n\n    moveSlide(index) {\n        const unevenOffset = (this.slideAmount % this.options.slidesScrolling !== 0);\n        const indexOffset = unevenOffset ? 0 : (this.slideAmount - this.currentSlide) % this.options.slidesScrolling;\n\n        if (index === 'previous') {\n            const slideOffset = indexOffset === 0 ? this.options.slidesScrolling : this.options.slidesVisible - indexOffset;\n\n            if (this.options.slidesVisible < this.slideAmount) {\n                this.slideController(this.currentSlide - slideOffset);\n            }\n        } else if (index === 'next') {\n            const slideOffset = indexOffset === 0 ? this.options.slidesScrolling : indexOffset;\n\n            if (this.options.slidesVisible < this.slideAmount) {\n                this.slideController(this.currentSlide + slideOffset);\n            }\n        }\n    }\n\n    removeTransition() {\n        const slides = this.selector.querySelector('.fc-slides');\n\n        if (this.options.transition === 'slide') {\n            slides.style.transition = '';\n        }\n    }\n\n    setTransform(position) {\n        const obj = {};\n        const slides = this.selector.querySelector('.fc-slides');\n\n        obj.transform = 'translate3d(' + Math.ceil(position) + '%' + ', 0px, 0px)';\n        slides.style.transform = obj.transform;\n    }\n\n    slideController(index) {\n        let nextSlide;\n\n        if (index < 0) {\n            if (this.slideAmount % this.options.slidesScrolling !== 0) {\n                nextSlide = this.slideAmount - (this.slideAmount % this.options.slidesScrolling);\n            } else {\n                nextSlide = this.slideAmount + index;\n            }\n        } else if (index >= this.slideAmount) {\n            if (this.slideAmount % this.options.slidesScrolling !== 0) {\n                nextSlide = 0;\n            } else {\n                nextSlide = index - this.slideAmount;\n            }\n        } else {\n            nextSlide = index;\n        }\n\n        this.currentSlide = nextSlide;\n        this.animateSlide(this.getLeftSlide(index));\n    }\n}\n\nexport default FlexCarousel;\n"],"names":["FlexCarousel","selector","options","document","querySelector","defaults","arrows","arrowsOverlay","autoplay","autoplaySpeed","circles","circlesOverlay","height","nextArrow","prevArrow","slidesScrolling","slidesVisible","transition","transitionSpeed","slideWidth","slideOffset","slideAmount","currentSlide","extend","init","extended","prop","Object","prototype","hasOwnProperty","call","slides","style","target","addTransition","setTransform","Math","ceil","Promise","resolve","setTimeout","removeTransition","then","getLeftSlide","addEventListener","moveSlide","slide","querySelectorAll","length","classList","add","createElement","innerHTML","appendChild","insertBefore","firstChild","buildArrowEvents","allSlides","container","i","circle","icon","children","minWidth","array","Array","from","prepend","slice","reverse","append","clone","cloneNode","index","contains","buildSlides","buildArrows","buildCircles","buildOptions","unevenOffset","indexOffset","slideController","position","obj","transform","nextSlide","animateSlide"],"mappings":"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"}