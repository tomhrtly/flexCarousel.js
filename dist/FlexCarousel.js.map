{"version":3,"file":"FlexCarousel.js","sources":["../src/core/defaults.js","../src/core/destroy.js","../src/utils/extend.js","../src/updaters/responsive.js","../src/updaters/arrows.js","../src/updaters/circles.js","../src/core/transform.js","../src/core/leftPage.js","../src/core/move.js","../src/events/slide.js","../src/core/slides.js","../src/events/arrow.js","../src/components/arrows.js","../src/components/autoplay.js","../src/events/breakpoint.js","../src/components/breakpoints.js","../src/utils/suffix.js","../src/events/circle.js","../src/components/circles.js","../src/components/height.js","../src/events/custom.js","../src/FlexCarousel.js"],"sourcesContent":["export default function (fc) {\n    return {\n        appendArrows: fc._selector,\n        arrows: true,\n        arrowsOverlay: true,\n        autoplay: false,\n        autoplaySpeed: 5000,\n        circles: true,\n        circlesOverlay: true,\n        height: null,\n        infinite: true,\n        initialPage: 0,\n        nextButton: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"angle-right\" class=\"svg-inline--fa fa-angle-right fa-w-8\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z\"></path></svg>',\n        prevButton: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"angle-left\" class=\"svg-inline--fa fa-angle-left fa-w-8\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z\"></path></svg>',\n        responsive: null,\n        slidesPerPage: 1,\n        slidesScrolling: 1,\n        transition: 'slide',\n        transitionSpeed: 250,\n    };\n}\n","export default function (fc) {\n    fc._selector.querySelectorAll('.fc-slide.fc-is-clone').forEach((element) => {\n        fc._selector.querySelector('.fc-slides').removeChild(element);\n    });\n\n    fc._selector.querySelectorAll('.fc-slide').forEach((element) => {\n        element.removeAttribute('class');\n        element.removeAttribute('style');\n    });\n\n    fc._selector.querySelector('.fc-slides').removeAttribute('style');\n    fc._selector.querySelector('.fc-slides').removeAttribute('class');\n\n    if (fc._options.circles) {\n        fc._selector.querySelector('.fc-container').removeChild(fc._selector.querySelector('.fc-circles'));\n    }\n\n    fc._selector.innerHTML = fc._selector.querySelector('.fc-container').innerHTML;\n\n    fc._selector.className = fc._selectorName.replace('.', '');\n    fc._selector.removeAttribute('style');\n    fc._selector.removeAttribute('tabindex');\n}\n","export default function (obj1, obj2) {\n    const extended = {};\n\n    if (obj1) {\n        const keys = Object.keys(obj1);\n\n        keys.forEach((value) => {\n            if (Object.prototype.hasOwnProperty.call(obj1, value)) {\n                extended[value] = obj1[value];\n            }\n        });\n    }\n\n    if (obj2) {\n        const keys = Object.keys(obj2);\n\n        keys.forEach((value) => {\n            if (Object.prototype.hasOwnProperty.call(obj2, value)) {\n                extended[value] = obj2[value];\n            }\n        });\n    }\n\n    return extended;\n}\n","import destroy from '../core/destroy';\nimport extend from '../utils/extend';\n\nfunction reinit(fc, options = {}) {\n    destroy(fc);\n    fc._options = extend(fc._defaults, options);\n    fc._init();\n    fc._selector.dispatchEvent(fc._events.breakpoint);\n}\n\nexport default function (fc) {\n    let targetBreakpoint;\n\n    fc._breakpoints.forEach((options, breakpoint) => {\n        if (window.innerWidth >= breakpoint) {\n            targetBreakpoint = breakpoint;\n        }\n    });\n\n    if (targetBreakpoint) {\n        if (fc._activeBreakpoint) {\n            if (targetBreakpoint !== fc._activeBreakpoint) {\n                fc._activeBreakpoint = targetBreakpoint;\n                reinit(fc, fc._breakpoints[targetBreakpoint]);\n            }\n        } else {\n            fc._activeBreakpoint = targetBreakpoint;\n            reinit(fc, fc._breakpoints[targetBreakpoint]);\n        }\n    } else if (fc._activeBreakpoint !== null) {\n        fc._activeBreakpoint = null;\n        reinit(fc, fc._originalOptions);\n    }\n}\n","export default function (fc) {\n    const prevButton = fc._options.appendArrows.querySelector('.fc-prev');\n    const nextButton = fc._options.appendArrows.querySelector('.fc-next');\n\n    if (!fc._options.infinite) {\n        if (fc._currentPage === 0) {\n            prevButton.setAttribute('disabled', 'disabled');\n        } else {\n            prevButton.removeAttribute('disabled');\n        }\n\n        if (fc._currentPage === fc._pageAmount - 1) {\n            nextButton.setAttribute('disabled', 'disabled');\n        } else {\n            nextButton.removeAttribute('disabled');\n        }\n    }\n}\n","export default function (fc) {\n    const circles = fc._selector.querySelector('.fc-container').querySelectorAll('.fc-circle');\n\n    for (let index = 0; index < circles.length; index += 1) {\n        circles[index].classList.remove('fc-is-active');\n    }\n\n    const index = Math.floor(fc._currentPage / fc._options.slidesScrolling);\n\n    circles[index].classList.add('fc-is-active');\n}\n","export default function (fc, position) {\n    fc._selector.querySelector('.fc-slides').style.transform = `translate3d(${position}%, 0px, 0px)`;\n}\n","export default function (fc, index) {\n    let slideOffset;\n\n    if (fc._options.slidesPerPage < fc._pageAmount) {\n        if (fc._options.slidesPerPage >= fc._options.slidesScrolling) {\n            slideOffset = (fc._pageWidth * fc._options.slidesPerPage) * -1;\n        }\n\n        if (!fc._options.infinite) {\n            slideOffset = 0;\n        }\n    }\n\n    return ((index * fc._pageWidth) * -1) + slideOffset;\n}\n","import arrows from '../updaters/arrows';\nimport circles from '../updaters/circles';\nimport transform from './transform';\nimport leftPage from './leftPage';\n\nfunction animate(fc, target) {\n    const slides = fc._selector.querySelector('.fc-slides');\n\n    if (fc._options.transition === 'slide') {\n        slides.style.transition = `all ${fc._options.transitionSpeed}ms ease-in-out 0s`;\n    }\n\n    transform(fc, Math.ceil(target));\n\n    new Promise((resolve) => {\n        setTimeout(() => {\n            if (fc._options.transition === 'slide') {\n                slides.style.transition = '';\n            }\n\n            resolve(true);\n        }, fc._options.transitionSpeed);\n    }).then(() => transform(fc, leftPage(fc, fc._currentPage)));\n}\n\nfunction controller(fc, index) {\n    let nextPage;\n\n    if (index < 0) {\n        if (fc._pageAmount % fc._options.slidesScrolling !== 0) {\n            nextPage = fc._pageAmount - (fc._pageAmount % fc._options.slidesScrolling);\n        } else {\n            nextPage = fc._pageAmount + index;\n        }\n    } else if (index >= fc._pageAmount) {\n        if (fc._pageAmount % fc._options.slidesScrolling !== 0) {\n            nextPage = 0;\n        } else {\n            nextPage = index - fc._pageAmount;\n        }\n    } else {\n        nextPage = index;\n    }\n\n    fc._currentPage = nextPage;\n    animate(fc, leftPage(fc, index));\n}\n\nexport default function (fc, index) {\n    const unevenOffset = (fc._pageAmount % fc._options.slidesScrolling !== 0);\n    const indexOffset = unevenOffset ? 0 : (fc._pageAmount - fc._currentPage) % fc._options.slidesScrolling;\n\n    if (index === 'previous') {\n        const slideOffset = indexOffset === 0 ? fc._options.slidesScrolling : fc._options.slidesPerPage - indexOffset;\n\n        if (fc._options.slidesPerPage < fc._pageAmount) {\n            controller(fc, fc._currentPage - slideOffset);\n        }\n    } else if (index === 'next') {\n        const slideOffset = indexOffset === 0 ? fc._options.slidesScrolling : indexOffset;\n\n        if (fc._options.slidesPerPage < fc._pageAmount) {\n            controller(fc, fc._currentPage + slideOffset);\n        }\n    } else {\n        const page = index === 0 ? 0 : index * fc._options.slidesScrolling;\n        controller(fc, page);\n    }\n\n    if (fc._options.arrows) {\n        arrows(fc);\n    }\n\n    if (fc._options.circles) {\n        circles(fc);\n    }\n\n    fc._selector.dispatchEvent(fc._events.pageChanging);\n\n    setTimeout(() => {\n        fc._selector.dispatchEvent(fc._events.pageChanged);\n    }, fc._options.transitionSpeed);\n}\n","import responsive from '../updaters/responsive';\nimport move from '../core/move';\nimport transform from '../core/transform';\n\nexport default function (fc) {\n    window.addEventListener('orientationchange', () => {\n        responsive(fc);\n        transform(fc);\n    });\n\n    fc._selector.onfocus = () => {\n        if (document.activeElement === fc._selector) {\n            document.onkeyup = (e) => {\n                if (e.key === 'ArrowRight') {\n                    move(fc, 'next');\n                } else if (e.key === 'ArrowLeft') {\n                    move(fc, 'previous');\n                }\n            };\n        }\n    };\n\n    fc._selector.onblur = () => {\n        document.onkeyup = () => {};\n    };\n}\n","import events from '../events/slide';\nimport transform from './transform';\nimport leftPage from './leftPage';\n\nexport default function (fc) {\n    const ul = fc._selector.querySelector('ul');\n    ul.classList.add('fc-slides');\n\n    for (let index = 0; index < ul.children.length; index += 1) {\n        ul.children[index].classList.add('fc-slide');\n    }\n\n    fc._selector.setAttribute('tabindex', '0');\n    fc._selector.innerHTML = `<div class=\"fc-container\">${fc._selector.innerHTML}</div>`;\n\n    const slides = fc._selector.querySelector('.fc-slides');\n    const allSlides = slides.querySelectorAll('.fc-slide');\n\n    fc._pageAmount = allSlides.length;\n\n    if (fc._options.slidesPerPage < fc._pageAmount) {\n        fc._pageWidth = 100 / fc._options.slidesPerPage;\n\n        for (let index = 0; index < fc._pageAmount; index += 1) {\n            allSlides[index].style.minWidth = `${fc._pageWidth}%`;\n        }\n\n        if (fc._options.infinite) {\n            const array = Array.from(allSlides);\n            let prepend;\n            let append;\n\n            if (fc._options.slidesPerPage >= fc._options.slidesScrolling) {\n                prepend = array.slice(fc._pageAmount - fc._options.slidesPerPage, fc._pageAmount).reverse();\n                append = array.slice(0, fc._options.slidesPerPage);\n            }\n\n            for (let index = 0; index < prepend.length; index += 1) {\n                const clone = prepend[index].cloneNode(true);\n                clone.classList.add('fc-is-clone');\n                slides.insertBefore(clone, slides.firstChild);\n            }\n\n            for (let index = 0; index < append.length; index += 1) {\n                const clone = append[index].cloneNode(true);\n                clone.classList.add('fc-is-clone');\n                slides.appendChild(clone);\n            }\n        }\n\n        transform(fc, leftPage(fc, fc._currentPage));\n    }\n\n    events(fc);\n}\n","import move from '../core/move';\n\nexport default function (fc) {\n    const nextButton = fc._options.appendArrows.querySelector('.fc-next');\n    const prevButton = fc._options.appendArrows.querySelector('.fc-prev');\n\n    nextButton.addEventListener('click', () => {\n        move(fc, 'next');\n    });\n\n    prevButton.addEventListener('click', () => {\n        move(fc, 'previous');\n    });\n}\n","import events from '../events/arrow';\nimport update from '../updaters/arrows';\n\nexport default function (fc) {\n    const slides = fc._selector.querySelector('.fc-slides');\n    const slide = slides.querySelectorAll('.fc-slide');\n\n    if (fc._options.arrows) {\n        if (fc._options.slidesPerPage < slide.length) {\n            fc._selector.classList.add('fc-has-arrows');\n\n            const nextButton = document.createElement('button');\n            nextButton.classList.add('fc-next');\n            nextButton.setAttribute('aria-label', 'Next');\n            nextButton.innerHTML = `<span class=\"fc-is-sr-only\">Next</span><span class=\"fc-icon\">${fc._options.nextButton}</span>`;\n\n            const prevButton = document.createElement('button');\n            prevButton.classList.add('fc-prev');\n            prevButton.setAttribute('aria-label', 'Previous');\n            prevButton.innerHTML = `<span class=\"fc-is-sr-only\">Previous</span><span class=\"fc-icon\">${fc._options.prevButton}</span>`;\n\n            fc._options.appendArrows.appendChild(nextButton);\n            fc._options.appendArrows.insertBefore(prevButton, fc._options.appendArrows.firstChild);\n\n            if (fc._options.arrowsOverlay) {\n                fc._selector.classList.add('fc-has-arrows-overlay');\n            }\n\n            events(fc);\n            update(fc);\n        }\n    }\n}\n","export default function (fc) {\n    fc._autoplayDirection = 'right';\n    fc._autoplayTimer = null;\n\n    let pause = false;\n    let slide;\n\n    document.addEventListener('visibilitychange', () => {\n        pause = document.visibilityState !== 'visible';\n    });\n\n    if (fc._autoplayTimer) {\n        clearInterval(fc._autoplayTimer);\n    }\n\n    if (fc._options.autoplay) {\n        fc._autoplayTimer = setInterval(() => {\n            if (!pause) {\n                if (!fc._options.infinite) {\n                    if (fc._autoplayDirection === 'right') {\n                        slide = 'next';\n\n                        if ((fc._currentPage + 1) === (fc._pageAmount - 1)) {\n                            fc._autoplayDirection = 'left';\n                        }\n                    } else if (fc._autoplayDirection === 'left') {\n                        slide = 'previous';\n\n                        if (fc._currentPage === 1) {\n                            fc._autoplayDirection = 'right';\n                        }\n                    }\n                } else {\n                    slide = 'next';\n                }\n                fc._movePage(slide);\n            }\n        }, fc._options.autoplaySpeed);\n\n        fc._selector.addEventListener('mouseenter', () => { pause = true; });\n        fc._selector.addEventListener('mouseleave', () => { pause = false; });\n        fc._selector.addEventListener('focusin', () => { pause = true; });\n        fc._selector.addEventListener('focusout', () => { pause = false; });\n    }\n}\n","import update from '../updaters/responsive';\n\nexport default function (fc) {\n    let timer;\n\n    window.addEventListener('resize', () => {\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n            update(fc);\n        }, 500);\n    });\n}\n","import event from '../events/breakpoint';\nimport extend from '../utils/extend';\nimport update from '../updaters/responsive';\n\nexport default function (fc) {\n    fc._breakpoints = [];\n\n    const breakpoints = [];\n\n    if (fc._options.responsive) {\n        let previous = fc._options;\n\n        fc._options.responsive.forEach(({ breakpoint, options }) => {\n            if (!breakpoints.includes(breakpoint)) {\n                breakpoints.push(breakpoint);\n\n                fc._breakpoints[breakpoint] = extend(previous, options);\n                previous = extend(previous, options);\n            }\n        });\n    }\n\n    event(fc);\n    update(fc);\n}\n","export default function (index) {\n    const j = index % 10;\n    const k = index % 100;\n\n    if (j === 1 && k !== 11) {\n        return `${index}st`;\n    }\n\n    if (j === 2 && k !== 12) {\n        return `${index}nd`;\n    }\n\n    if (j === 3 && k !== 13) {\n        return `${index}rd`;\n    }\n\n    return `${index}th`;\n}\n","import move from '../core/move';\n\nexport default function (fc) {\n    const circles = fc._selector.querySelector('.fc-container').querySelectorAll('.fc-circle');\n\n    circles.forEach((element, index) => {\n        element.addEventListener('click', () => move(fc, index));\n    });\n}\n","import suffix from '../utils/suffix';\nimport update from '../updaters/circles';\nimport event from '../events/circle';\n\nexport default function (fc) {\n    if (fc._options.circles) {\n        if (fc._options.slidesPerPage < fc._pageAmount) {\n            fc._selector.classList.add('fc-has-circles');\n\n            const element = document.createElement('ul');\n            element.classList.add('fc-circles');\n\n            fc._selector.querySelector('.fc-container').appendChild(element);\n\n            const option = fc._options.slidesPerPage > fc._options.slidesScrolling ? fc._options.slidesScrolling : fc._options.slidesPerPage;\n            const amount = Math.ceil(fc._pageAmount / option);\n\n            for (let index = 0; index < amount; index += 1) {\n                const li = document.createElement('li');\n\n                const circle = document.createElement('button');\n                circle.classList.add('fc-circle');\n                circle.setAttribute('aria-label', `${suffix(index + 1)} page`);\n\n                const icon = document.createElement('span');\n                icon.classList.add('fc-icon', 'fc-is-circle');\n\n                const text = document.createElement('span');\n                text.classList.add('fc-is-sr-only');\n                text.innerHTML = index + 1;\n\n                circle.appendChild(icon);\n                circle.appendChild(text);\n                li.appendChild(circle);\n                element.appendChild(li);\n            }\n\n            if (fc._options.circlesOverlay) {\n                fc._selector.classList.add('fc-has-circles-overlay');\n            }\n\n            update(fc);\n            event(fc);\n        }\n    }\n}\n","export default function (fc) {\n    if (fc._options.height) {\n        fc._selector.style.height = fc._options.height;\n    }\n}\n","export default {\n    breakpoint: new CustomEvent('breakpoint.fc'),\n    pageChanged: new CustomEvent('pageChanged.fc'),\n    pageChanging: new CustomEvent('pageChanging.fc'),\n};\n","/*\n * FlexCarousel.js v1.1.0\n * https://github.com/tomhrtly/FlexCarousel.js\n *\n * Copyright 2020 Tom Hartley\n * Released under the MIT license\n *\n * Icons provided by Font Awesome: https://fontawesome.com\n */\n\nimport defaults from './core/defaults';\nimport slides from './core/slides';\nimport * as component from './components/index';\nimport extend from './utils/extend';\nimport custom from './events/custom';\n\nexport default class FlexCarousel {\n    constructor(selector, options = {}) {\n        this._selectorName = selector.toString();\n        this._selector = document.querySelector(selector);\n\n        this._defaults = defaults(this);\n        this._options = extend(this._defaults, options);\n        this._originalOptions = this._options;\n\n        this._events = custom;\n\n        this._activeBreakpoint = null;\n        this._pageAmount = null;\n        this._pageWidth = null;\n        this._currentPage = this._options.initialPage;\n\n        this._init();\n        return this._selector;\n    }\n\n    _init() {\n        if (!this._selector.classList.contains('fc')) {\n            this._selector.classList.add('fc');\n            slides(this);\n            component.arrows(this);\n            component.circles(this);\n            component.autoplay(this);\n            component.height(this);\n            component.breakpoints(this);\n        }\n    }\n}\n"],"names":["fc","appendArrows","_selector","arrows","arrowsOverlay","autoplay","autoplaySpeed","circles","circlesOverlay","height","infinite","initialPage","nextButton","prevButton","responsive","slidesPerPage","slidesScrolling","transition","transitionSpeed","querySelectorAll","forEach","element","querySelector","removeChild","removeAttribute","_options","innerHTML","className","_selectorName","replace","obj1","obj2","extended","keys","Object","value","prototype","hasOwnProperty","call","reinit","options","destroy","extend","_defaults","_init","dispatchEvent","_events","breakpoint","targetBreakpoint","_breakpoints","window","innerWidth","_activeBreakpoint","_originalOptions","_currentPage","setAttribute","_pageAmount","index","length","classList","remove","Math","floor","add","position","style","transform","slideOffset","_pageWidth","animate","target","slides","ceil","Promise","resolve","setTimeout","then","leftPage","controller","nextPage","unevenOffset","indexOffset","page","pageChanging","pageChanged","addEventListener","onfocus","document","activeElement","onkeyup","e","key","move","onblur","ul","children","allSlides","minWidth","array","Array","from","prepend","append","slice","reverse","clone","cloneNode","insertBefore","firstChild","appendChild","events","slide","createElement","update","_autoplayDirection","_autoplayTimer","pause","visibilityState","clearInterval","setInterval","_movePage","timer","clearTimeout","breakpoints","previous","includes","push","event","j","k","option","amount","li","circle","suffix","icon","text","CustomEvent","FlexCarousel","selector","toString","defaults","custom","contains","component"],"mappings":"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"}